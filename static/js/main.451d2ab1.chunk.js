(this["webpackJsonpgame-of-life-react"]=this["webpackJsonpgame-of-life-react"]||[]).push([[0],{13:function(e,t,n){e.exports=n(32)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),c=n(10),o=n.n(c),i=(n(18),n(3)),u=n(5),s=n(12),f=n(1),y=(n(19),function(e){var t=e.children;return l.a.createElement("div",{className:"controls-container"},t)}),m=(n(20),function(e){var t=e.id,n=e.isAlive;return l.a.createElement("td",{id:t,className:"cell ".concat(n?"alive-cell":"")})});n(21);!function(e){e.glider="glider",e.pulsar="pulsar",e.beacon="beacon"}(a||(a={}));var b=function(e,t){return e+"_"+t},d=function(e,t,n){var a=e+t;return a>n-1?a-=n:a<0&&(a+=n),a},x=function(e,t,n,a){var r=0,l=d(e,-1,a),c=d(e,1,a),o=d(t,-1,a),i=d(t,1,a);return n[b(l,o)]&&(r+=1),n[b(l,t)]&&(r+=1),n[b(l,i)]&&(r+=1),n[b(e,o)]&&(r+=1),n[b(e,i)]&&(r+=1),n[b(c,o)]&&(r+=1),n[b(c,t)]&&(r+=1),n[b(c,i)]&&(r+=1),r},v=function(e){var t=e.fieldSize,n=e.field,a=e.onCellClick,c=Object(r.useCallback)((function(e){var t=e.target.id.split("_"),n=Object(f.a)(t,2),r=n[0],l=n[1];a({x:Number(r),y:Number(l)})}),[a]),o=Object(r.useMemo)((function(){return new Array(t).fill(null)}),[t]);return l.a.createElement("table",{className:"game-field",onClick:c},l.a.createElement("tbody",null,o.map((function(e,t){var a=o.map((function(e,a){var r=b(t,a);return l.a.createElement(m,{key:r,id:r,isAlive:n[r]})}));return l.a.createElement("tr",{key:t},a)}))))},E=n(11),h=n.n(E),p=function(){return{width:window.innerWidth,height:window.innerHeight}},j=function(){var e=Object(r.useState)(p),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=h()((function(){a({width:window.innerWidth,height:window.innerHeight})}),100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n},w=(n(31),function(){var e=Math.floor(window.innerWidth/24);return e>25?25:e}),O=function(){var e=Object(r.useState)(w),t=Object(f.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)({}),m=Object(f.a)(o,2),E=m[0],h=m[1],p=Object(r.useState)(!1),O=Object(f.a)(p,2),k=O[0],C=O[1],N=Object(r.useState)([]),g=Object(f.a)(N,2),S=g[0],M=g[1],F=j(),z=Object(r.useState)(n),T=Object(f.a)(z,2),A=T[0],U=T[1],W=Object(r.useCallback)((function(){var e=function(e,t){for(var n={},a=0,r=0;r<t;r++)for(var l=0;l<t;l++){var c=b(r,l),o=e[c],i=x(r,l,e,t),u=!1;(!o||2!==i&&3!==i)&&(o||3!==i)||(u=!0,a+=1),u&&(n[c]=u)}return{updatedField:n,aliveCellsCount:a}}(E,n),t=e.updatedField,a=e.aliveCellsCount;h(t),M((function(e){return[].concat(Object(s.a)(e.slice(-1e3)),[E])})),0===a&&(C(!1),setTimeout((function(){alert("Simulation is finished")})))}),[n,E]);Object(r.useEffect)((function(){var e;return k&&(e=window.setTimeout(W,500)),function(){clearTimeout(e)}}),[k,W]),Object(r.useEffect)((function(){var e=Math.floor(F.width/24);U(e)}),[F.width]);var B=function(e){var t;switch(e){case a.glider:t=function(e){var t={};if(e<3)return alert('Unable to add "glider" preset. Field is too small'),t;var n={x:Math.floor(e/2),y:Math.floor(e/2)};return t[b(d(n.x,-1,e),d(n.y,-1,e))]=!0,t[b(d(n.x,-1,e),d(n.y,1,e))]=!0,t[b(n.x,n.y)]=!0,t[b(n.x,d(n.y,1,e))]=!0,t[b(d(n.x,1,e),n.y)]=!0,t}(n);break;case a.pulsar:t=function(e){var t={};if(e<16)return alert('Unable to add "pulsar" preset. Field is too small'),t;var n={x:Math.floor(e/2),y:Math.floor(e/2)};return t[b(d(n.x,-6,e),d(n.y,-4,e))]=!0,t[b(d(n.x,-6,e),d(n.y,-3,e))]=!0,t[b(d(n.x,-6,e),d(n.y,-2,e))]=!0,t[b(d(n.x,-6,e),d(n.y,2,e))]=!0,t[b(d(n.x,-6,e),d(n.y,3,e))]=!0,t[b(d(n.x,-6,e),d(n.y,4,e))]=!0,t[b(d(n.x,-4,e),d(n.y,-6,e))]=!0,t[b(d(n.x,-4,e),d(n.y,-1,e))]=!0,t[b(d(n.x,-4,e),d(n.y,1,e))]=!0,t[b(d(n.x,-4,e),d(n.y,6,e))]=!0,t[b(d(n.x,-3,e),d(n.y,-6,e))]=!0,t[b(d(n.x,-3,e),d(n.y,-1,e))]=!0,t[b(d(n.x,-3,e),d(n.y,1,e))]=!0,t[b(d(n.x,-3,e),d(n.y,6,e))]=!0,t[b(d(n.x,-2,e),d(n.y,-6,e))]=!0,t[b(d(n.x,-2,e),d(n.y,-1,e))]=!0,t[b(d(n.x,-2,e),d(n.y,1,e))]=!0,t[b(d(n.x,-2,e),d(n.y,6,e))]=!0,t[b(d(n.x,-1,e),d(n.y,-4,e))]=!0,t[b(d(n.x,-1,e),d(n.y,-3,e))]=!0,t[b(d(n.x,-1,e),d(n.y,-2,e))]=!0,t[b(d(n.x,-1,e),d(n.y,2,e))]=!0,t[b(d(n.x,-1,e),d(n.y,3,e))]=!0,t[b(d(n.x,-1,e),d(n.y,4,e))]=!0,t[b(d(n.x,1,e),d(n.y,-4,e))]=!0,t[b(d(n.x,1,e),d(n.y,-3,e))]=!0,t[b(d(n.x,1,e),d(n.y,-2,e))]=!0,t[b(d(n.x,1,e),d(n.y,2,e))]=!0,t[b(d(n.x,1,e),d(n.y,3,e))]=!0,t[b(d(n.x,1,e),d(n.y,4,e))]=!0,t[b(d(n.x,2,e),d(n.y,-6,e))]=!0,t[b(d(n.x,2,e),d(n.y,-1,e))]=!0,t[b(d(n.x,2,e),d(n.y,1,e))]=!0,t[b(d(n.x,2,e),d(n.y,6,e))]=!0,t[b(d(n.x,3,e),d(n.y,-6,e))]=!0,t[b(d(n.x,3,e),d(n.y,-1,e))]=!0,t[b(d(n.x,3,e),d(n.y,1,e))]=!0,t[b(d(n.x,3,e),d(n.y,6,e))]=!0,t[b(d(n.x,4,e),d(n.y,-6,e))]=!0,t[b(d(n.x,4,e),d(n.y,-1,e))]=!0,t[b(d(n.x,4,e),d(n.y,1,e))]=!0,t[b(d(n.x,4,e),d(n.y,6,e))]=!0,t[b(d(n.x,6,e),d(n.y,-4,e))]=!0,t[b(d(n.x,6,e),d(n.y,-3,e))]=!0,t[b(d(n.x,6,e),d(n.y,-2,e))]=!0,t[b(d(n.x,6,e),d(n.y,2,e))]=!0,t[b(d(n.x,6,e),d(n.y,3,e))]=!0,t[b(d(n.x,6,e),d(n.y,4,e))]=!0,t}(n);break;case a.beacon:t=function(e){var t={};if(e<4)return alert('Unable to add "beacon" preset. Field is too small'),t;var n={x:Math.floor(e/2),y:Math.floor(e/2)};return t[b(d(n.x,-1,e),d(n.y,-1,e))]=!0,t[b(d(n.x,-1,e),n.y)]=!0,t[b(n.x,d(n.y,-1,e))]=!0,t[b(d(n.x,1,e),d(n.y,2,e))]=!0,t[b(d(n.x,2,e),d(n.y,1,e))]=!0,t[b(d(n.x,2,e),d(n.y,2,e))]=!0,t}(n)}if(t){if(!(Object.values(t).length>0))return;h(t),M([]),C(!0)}};return l.a.createElement("main",{className:"page-layout"},l.a.createElement(y,null,l.a.createElement("span",{className:"controls-label"},"Simulation"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",onClick:function(){return C(!k)}},k?"Stop":"Start"),l.a.createElement("button",{className:"controls-button",onClick:function(){h({}),M([]),C(!1)}},"Reset"))),l.a.createElement(y,null,l.a.createElement("span",{className:"controls-label"},"Field size"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",disabled:n>=A,onClick:function(){c((function(e){return e+1}))}},"Increase"),l.a.createElement("button",{className:"controls-button",disabled:n<2,onClick:function(){c((function(e){return e-1}))}},"Decrease"))),l.a.createElement(y,null,l.a.createElement("span",{className:"controls-label"},"Generations"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",disabled:!S.length,onClick:function(){var e=S[S.length-1];h(e),M(S.filter((function(t){return t!==e})))}},"Previous"),l.a.createElement("button",{className:"controls-button",onClick:function(){W()}},"Next"))),l.a.createElement(y,null,l.a.createElement("span",{className:"controls-label"},"Templates"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",onClick:function(){return B(a.glider)}},"Glider"),l.a.createElement("button",{className:"controls-button",onClick:function(){return B(a.pulsar)}},"Pulsar"),l.a.createElement("button",{className:"controls-button",onClick:function(){return B(a.beacon)}},"Beacon"))),l.a.createElement(v,{fieldSize:n,field:E,onCellClick:function(e){var t=e.x,n=e.y;h((function(e){return Object(u.a)(Object(u.a)({},e),{},Object(i.a)({},b(t,n),!0))}))}}))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(O,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.451d2ab1.chunk.js.map