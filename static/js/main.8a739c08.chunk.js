(this["webpackJsonpgame-of-life-react"]=this["webpackJsonpgame-of-life-react"]||[]).push([[0],{13:function(e,t,n){e.exports=n(32)},18:function(e,t,n){},19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var a,r=n(0),l=n.n(r),i=n(10),o=n.n(i),c=(n(18),n(2)),u=(n(19),function(e){var t=e.children;return l.a.createElement("div",{className:"controls-container"},t)}),s=(n(20),function(e){var t=e.id,n=e.isAlive;return l.a.createElement("td",{id:t,className:"cell ".concat(n?"alive-cell":"")})});!function(e){e.glider="glider",e.pulsar="pulsar",e.beacon="beacon"}(a||(a={}));var d,f=function(e,t){return e+"_"+t},y=function(e,t,n){var a=e+t;return a>n-1?a-=n:a<0&&(a+=n),a},b=function(e,t,n,a){var r=0,l=y(e,-1,a),i=y(e,1,a),o=y(t,-1,a),c=y(t,1,a);return n[f(l,o)]&&(r+=1),n[f(l,t)]&&(r+=1),n[f(l,c)]&&(r+=1),n[f(e,o)]&&(r+=1),n[f(e,c)]&&(r+=1),n[f(i,o)]&&(r+=1),n[f(i,t)]&&(r+=1),n[f(i,c)]&&(r+=1),r},x=(n(21),function(e){var t=e.fieldSize,n=e.field,a=e.onCellClick,i=Object(r.useCallback)((function(e){var t=e.target.id.split("_"),n=Object(c.a)(t,2),r=n[0],l=n[1];a({x:Number(r),y:Number(l)})}),[a]),o=Object(r.useMemo)((function(){return new Array(t).fill(null)}),[t]);return l.a.createElement("table",{className:"game-field","data-testid":"game-field",onClick:i},l.a.createElement("tbody",null,o.map((function(e,t){var a=o.map((function(e,a){var r=f(t,a);return l.a.createElement(s,{key:r,id:r,isAlive:n[r]})}));return l.a.createElement("tr",{key:t},a)}))))}),m=n(11),v=n.n(m),p=function(){return{width:window.innerWidth,height:window.innerHeight}},h=function(){var e=Object(r.useState)(p),t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=v()((function(){a({width:window.innerWidth,height:window.innerHeight})}),100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),n},E=n(5),S=n(12),j=n(1),O={fieldState:{},fieldSize:function(){var e=Math.floor(window.innerWidth/24);return e>25?25:e}(),history:[]};!function(e){e.AddAliveCell="AddAliveCell",e.TriggerNextGeneration="TriggerNextGeneration",e.Reset="Reset",e.IncreaseFieldSize="IncreaseFieldSize",e.DecreaseFieldSize="DecreaseFieldSize",e.RunPreset="RunPreset",e.GoToPreviousGeneration="GoToPreviousGeneration"}(d||(d={}));var g=function(e,t){switch(t.type){case d.TriggerNextGeneration:var n=e.fieldState,a=e.fieldSize,r=e.history,l=function(e,t){for(var n={},a=0;a<t;a++)for(var r=0;r<t;r++){var l=f(a,r),i=e[l],o=b(a,r,e,t),c=!1;(!i||2!==o&&3!==o)&&(i||3!==o)||(c=!0),c&&(n[l]=c)}return n}(n,a);return Object(j.a)(Object(j.a)({},e),{},{fieldState:l,history:[].concat(Object(S.a)(r.slice(-1e3)),[n])});case d.AddAliveCell:var i=e.fieldState,o=t.payload,c=o.x,u=o.y;return Object(j.a)(Object(j.a)({},e),{},{fieldState:Object(j.a)(Object(j.a)({},i),{},Object(E.a)({},f(c,u),!0))});case d.Reset:return Object(j.a)({},O);case d.IncreaseFieldSize:var s=e.fieldSize;return Object(j.a)(Object(j.a)({},e),{},{fieldSize:s+1});case d.DecreaseFieldSize:var y=e.fieldSize;return Object(j.a)(Object(j.a)({},e),{},{fieldSize:y-1});case d.GoToPreviousGeneration:var x=e.history,m=x[x.length-1];return Object(j.a)(Object(j.a)({},e),{},{fieldState:m,history:x.filter((function(e){return e!==m}))});case d.RunPreset:var v=t.payload;return Object(j.a)(Object(j.a)({},e),{},{fieldState:v,history:[]});default:return e}},w=(n(31),function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(r.useReducer)(g,O),s=Object(c.a)(o,2),b=s[0],m=s[1],v=Object(r.useState)(b.fieldSize),p=Object(c.a)(v,2),E=p[0],S=p[1],j=h();Object(r.useEffect)((function(){var e;return n&&(e=window.setInterval((function(){m({type:d.TriggerNextGeneration,payload:null})}),500)),function(){clearInterval(e)}}),[n]),Object(r.useEffect)((function(){var e=Math.floor(j.width/24);S(e)}),[j.width]);var w=function(e){var t,n=b.fieldSize;switch(e){case a.glider:t=function(e){var t={};if(!(e<5)){var n={x:Math.floor(e/2),y:Math.floor(e/2)};return t[f(y(n.x,-1,e),y(n.y,-1,e))]=!0,t[f(y(n.x,-1,e),y(n.y,1,e))]=!0,t[f(n.x,n.y)]=!0,t[f(n.x,y(n.y,1,e))]=!0,t[f(y(n.x,1,e),n.y)]=!0,t}alert('Unable to add "glider" preset. Field is too small')}(n);break;case a.pulsar:t=function(e){var t={};if(!(e<16)){var n={x:Math.floor(e/2),y:Math.floor(e/2)};return t[f(y(n.x,-6,e),y(n.y,-4,e))]=!0,t[f(y(n.x,-6,e),y(n.y,-3,e))]=!0,t[f(y(n.x,-6,e),y(n.y,-2,e))]=!0,t[f(y(n.x,-6,e),y(n.y,2,e))]=!0,t[f(y(n.x,-6,e),y(n.y,3,e))]=!0,t[f(y(n.x,-6,e),y(n.y,4,e))]=!0,t[f(y(n.x,-4,e),y(n.y,-6,e))]=!0,t[f(y(n.x,-4,e),y(n.y,-1,e))]=!0,t[f(y(n.x,-4,e),y(n.y,1,e))]=!0,t[f(y(n.x,-4,e),y(n.y,6,e))]=!0,t[f(y(n.x,-3,e),y(n.y,-6,e))]=!0,t[f(y(n.x,-3,e),y(n.y,-1,e))]=!0,t[f(y(n.x,-3,e),y(n.y,1,e))]=!0,t[f(y(n.x,-3,e),y(n.y,6,e))]=!0,t[f(y(n.x,-2,e),y(n.y,-6,e))]=!0,t[f(y(n.x,-2,e),y(n.y,-1,e))]=!0,t[f(y(n.x,-2,e),y(n.y,1,e))]=!0,t[f(y(n.x,-2,e),y(n.y,6,e))]=!0,t[f(y(n.x,-1,e),y(n.y,-4,e))]=!0,t[f(y(n.x,-1,e),y(n.y,-3,e))]=!0,t[f(y(n.x,-1,e),y(n.y,-2,e))]=!0,t[f(y(n.x,-1,e),y(n.y,2,e))]=!0,t[f(y(n.x,-1,e),y(n.y,3,e))]=!0,t[f(y(n.x,-1,e),y(n.y,4,e))]=!0,t[f(y(n.x,1,e),y(n.y,-4,e))]=!0,t[f(y(n.x,1,e),y(n.y,-3,e))]=!0,t[f(y(n.x,1,e),y(n.y,-2,e))]=!0,t[f(y(n.x,1,e),y(n.y,2,e))]=!0,t[f(y(n.x,1,e),y(n.y,3,e))]=!0,t[f(y(n.x,1,e),y(n.y,4,e))]=!0,t[f(y(n.x,2,e),y(n.y,-6,e))]=!0,t[f(y(n.x,2,e),y(n.y,-1,e))]=!0,t[f(y(n.x,2,e),y(n.y,1,e))]=!0,t[f(y(n.x,2,e),y(n.y,6,e))]=!0,t[f(y(n.x,3,e),y(n.y,-6,e))]=!0,t[f(y(n.x,3,e),y(n.y,-1,e))]=!0,t[f(y(n.x,3,e),y(n.y,1,e))]=!0,t[f(y(n.x,3,e),y(n.y,6,e))]=!0,t[f(y(n.x,4,e),y(n.y,-6,e))]=!0,t[f(y(n.x,4,e),y(n.y,-1,e))]=!0,t[f(y(n.x,4,e),y(n.y,1,e))]=!0,t[f(y(n.x,4,e),y(n.y,6,e))]=!0,t[f(y(n.x,6,e),y(n.y,-4,e))]=!0,t[f(y(n.x,6,e),y(n.y,-3,e))]=!0,t[f(y(n.x,6,e),y(n.y,-2,e))]=!0,t[f(y(n.x,6,e),y(n.y,2,e))]=!0,t[f(y(n.x,6,e),y(n.y,3,e))]=!0,t[f(y(n.x,6,e),y(n.y,4,e))]=!0,t}alert('Unable to add "pulsar" preset. Field is too small')}(n);break;case a.beacon:t=function(e){var t={};if(!(e<6)){var n={x:Math.floor(e/2),y:Math.floor(e/2)};return t[f(y(n.x,-1,e),y(n.y,-1,e))]=!0,t[f(y(n.x,-1,e),n.y)]=!0,t[f(n.x,y(n.y,-1,e))]=!0,t[f(y(n.x,1,e),y(n.y,2,e))]=!0,t[f(y(n.x,2,e),y(n.y,1,e))]=!0,t[f(y(n.x,2,e),y(n.y,2,e))]=!0,t}alert('Unable to add "beacon" preset. Field is too small')}(n)}t&&(m({type:d.RunPreset,payload:t}),i(!0))};return l.a.createElement("main",{className:"page-layout"},l.a.createElement(u,null,l.a.createElement("span",{className:"controls-label"},"Simulation"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",onClick:function(){return i(!n)}},n?"Stop":"Start"),l.a.createElement("button",{className:"controls-button",onClick:function(){m({type:d.Reset,payload:null})}},"Reset"))),l.a.createElement(u,null,l.a.createElement("span",{className:"controls-label"},"Field size"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",disabled:b.fieldSize>=E,onClick:function(){m({type:d.IncreaseFieldSize,payload:null})}},"Increase"),l.a.createElement("button",{className:"controls-button",disabled:b.fieldSize<2,onClick:function(){m({type:d.DecreaseFieldSize,payload:null})}},"Decrease"))),l.a.createElement(u,null,l.a.createElement("span",{className:"controls-label"},"Generations"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",disabled:!b.history.length,onClick:function(){m({type:d.GoToPreviousGeneration,payload:null})}},"Previous"),l.a.createElement("button",{className:"controls-button",onClick:function(){m({type:d.TriggerNextGeneration,payload:null})}},"Next"))),l.a.createElement(u,null,l.a.createElement("span",{className:"controls-label"},"Templates"),l.a.createElement("div",null,l.a.createElement("button",{className:"controls-button",onClick:function(){return w(a.glider)}},"Glider"),l.a.createElement("button",{className:"controls-button",onClick:function(){return w(a.pulsar)}},"Pulsar"),l.a.createElement("button",{className:"controls-button",onClick:function(){return w(a.beacon)}},"Beacon"))),l.a.createElement(x,{fieldSize:b.fieldSize,field:b.fieldState,onCellClick:function(e){var t=e.x,n=e.y;m({type:d.AddAliveCell,payload:{x:t,y:n}})}}))});o.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.8a739c08.chunk.js.map